{
  "timestamp": "20250704_065558",
  "test_cases": [
    {
      "query": "What's the weather in London?",
      "expected_decision": "tool_direct",
      "expected_tool": "get_weather_forecast",
      "expected_search_provider": null,
      "description": "Basic weather query"
    },
    {
      "query": "Is it going to rain tomorrow in Paris?",
      "expected_decision": "tool_direct",
      "expected_tool": "get_weather_forecast",
      "expected_search_provider": null,
      "description": "Future weather"
    },
    {
      "query": "How's the weather at home?",
      "expected_decision": "tool_direct",
      "expected_tool": "get_home_weather",
      "expected_search_provider": null,
      "description": "Personal weather"
    },
    {
      "query": "What's my PWS showing?",
      "expected_decision": "tool_direct",
      "expected_tool": "get_pws_current_conditions",
      "expected_search_provider": null,
      "description": "Personal weather station"
    },
    {
      "query": "Check the temperature outside",
      "expected_decision": "tool_direct",
      "expected_tool": "get_home_weather",
      "expected_search_provider": null,
      "description": "Ambiguous location"
    },
    {
      "query": "Weather forecast for next week",
      "expected_decision": "tool_direct",
      "expected_tool": "get_weather_forecast",
      "expected_search_provider": null,
      "description": "Extended forecast"
    },
    {
      "query": "What happened at the latest Apple event?",
      "expected_decision": "search_only",
      "expected_tool": null,
      "expected_search_provider": "brave",
      "description": "Recent events"
    },
    {
      "query": "What's Google's stock price today?",
      "expected_decision": "search_only",
      "expected_tool": null,
      "expected_search_provider": "serper",
      "description": "Current financial data"
    },
    {
      "query": "Store hours for Walmart near me",
      "expected_decision": "search_only",
      "expected_tool": null,
      "expected_search_provider": "serper",
      "description": "Local business info"
    },
    {
      "query": "Latest news about AI developments",
      "expected_decision": "search_only",
      "expected_tool": null,
      "expected_search_provider": "brave",
      "description": "Current news"
    },
    {
      "query": "What time does the Apple Store close?",
      "expected_decision": "search_only",
      "expected_tool": null,
      "expected_search_provider": "serper",
      "description": "Business hours"
    },
    {
      "query": "What is the capital of France?",
      "expected_decision": "model_knowledge",
      "expected_tool": null,
      "expected_search_provider": null,
      "description": "General knowledge"
    },
    {
      "query": "Explain photosynthesis",
      "expected_decision": "model_knowledge",
      "expected_tool": null,
      "expected_search_provider": null,
      "description": "Educational content"
    },
    {
      "query": "Write a haiku about cats",
      "expected_decision": "model_knowledge",
      "expected_tool": null,
      "expected_search_provider": null,
      "description": "Creative task"
    },
    {
      "query": "How do you calculate compound interest?",
      "expected_decision": "model_knowledge",
      "expected_tool": null,
      "expected_search_provider": null,
      "description": "Mathematical concept"
    },
    {
      "query": "What are the principles of good design?",
      "expected_decision": "model_knowledge",
      "expected_tool": null,
      "expected_search_provider": null,
      "description": "Conceptual question"
    },
    {
      "query": "How hot is it on Mars?",
      "expected_decision": "model_knowledge",
      "expected_tool": null,
      "expected_search_provider": null,
      "description": "Space fact vs current weather"
    },
    {
      "query": "What's the weather like in Middle Earth?",
      "expected_decision": "model_knowledge",
      "expected_tool": null,
      "expected_search_provider": null,
      "description": "Fictional location"
    },
    {
      "query": "Search for the weather in Tokyo",
      "expected_decision": "search_only",
      "expected_tool": null,
      "expected_search_provider": "serper",
      "description": "Explicit search request"
    },
    {
      "query": "Tell me about the history of weather forecasting",
      "expected_decision": "model_knowledge",
      "expected_tool": null,
      "expected_search_provider": null,
      "description": "Historical vs current"
    },
    {
      "query": "What's happening?",
      "expected_decision": "search_only",
      "expected_tool": null,
      "expected_search_provider": "brave",
      "description": "Very vague query"
    },
    {
      "query": "How are things?",
      "expected_decision": "model_knowledge",
      "expected_tool": null,
      "expected_search_provider": null,
      "description": "Conversational"
    },
    {
      "query": "Check the latest",
      "expected_decision": "search_only",
      "expected_tool": null,
      "expected_search_provider": "brave",
      "description": "Incomplete query"
    },
    {
      "query": "What do you think?",
      "expected_decision": "model_knowledge",
      "expected_tool": null,
      "expected_search_provider": null,
      "description": "Opinion request"
    },
    {
      "query": "Can you help me?",
      "expected_decision": "model_knowledge",
      "expected_tool": null,
      "expected_search_provider": null,
      "description": "Generic help"
    }
  ],
  "results": [
    {
      "system": "comprehensive_llm",
      "query": "What's the weather in London?",
      "routing_decision": "tool_direct",
      "primary_tool": "get_weather_forecast",
      "search_provider": null,
      "confidence": 0.95,
      "reasoning": "Clear weather request for specific location - perfect match for weather forecast tool",
      "response_time": 0.6533679962158203,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "What's the weather in London?",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "serper",
      "confidence": 0.8,
      "reasoning": "The user is asking for real-time information about the weather, which changes frequently and requires an external search.",
      "response_time": 0.4177989959716797,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "What's the weather in London?",
      "routing_decision": "tool_direct",
      "primary_tool": "get_weather_forecast",
      "search_provider": null,
      "confidence": 1.0,
      "reasoning": "High tool confidence (1.00): Patterns: 1, Keywords: 1. Pattern match: \\bweather\\b.*\\bin\\b; Keyword: weather; Location indicator: in",
      "response_time": 0.003961086273193359,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "Is it going to rain tomorrow in Paris?",
      "routing_decision": "tool_direct",
      "primary_tool": "get_weather_forecast",
      "search_provider": null,
      "confidence": 0.95,
      "reasoning": "The query is a direct request for weather information for a specific location ('Paris') and a specific time ('tomorrow'), which is a perfect match for the get_weather_forecast tool.",
      "response_time": 0.4779510498046875,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "Is it going to rain tomorrow in Paris?",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "serper",
      "confidence": 0.8,
      "reasoning": "The user is asking for future weather information, which is time-sensitive and requires a real-time data search.",
      "response_time": 0.4782679080963135,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "Is it going to rain tomorrow in Paris?",
      "routing_decision": "tool_direct",
      "primary_tool": "get_weather_forecast",
      "search_provider": null,
      "confidence": 1.0,
      "reasoning": "High tool confidence (1.00): Patterns: 1, Keywords: 1. Pattern match: \\b(rain|snow|sun)\\b.*\\bin\\b; Keyword: rain; Location indicator: in",
      "response_time": 0.00035381317138671875,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "How's the weather at home?",
      "routing_decision": "tool_direct",
      "primary_tool": "get_home_weather",
      "search_provider": null,
      "confidence": 0.95,
      "reasoning": "The query explicitly asks for weather conditions at the user's home.",
      "response_time": 0.476362943649292,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "How's the weather at home?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.7,
      "reasoning": "The user is asking about their personal weather conditions, which falls under the category of personal weather station requests and does not require an external web search.",
      "response_time": 0.42041587829589844,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "How's the weather at home?",
      "routing_decision": "tool_direct",
      "primary_tool": "get_home_weather",
      "search_provider": null,
      "confidence": 0.9,
      "reasoning": "High tool confidence (0.90): Patterns: 1, Keywords: 1. Pattern match: \\bweather.*\\b(home|house)\\b; Keyword: home",
      "response_time": 0.000270843505859375,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "What's my PWS showing?",
      "routing_decision": "tool_direct",
      "primary_tool": "get_pws_current_conditions",
      "search_provider": null,
      "confidence": 0.9,
      "reasoning": "User explicitly asking for Personal Weather Station data",
      "response_time": 0.4256279468536377,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "What's my PWS showing?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.7,
      "reasoning": "The user is asking about their personal weather station, which is a type of personal data that the model cannot access or provide.",
      "response_time": 0.5063560009002686,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "What's my PWS showing?",
      "routing_decision": "tool_direct",
      "primary_tool": "get_pws_current_conditions",
      "search_provider": null,
      "confidence": 0.7,
      "reasoning": "Medium tool confidence, no search needed: Patterns: 0, Keywords: 1. Keyword: my",
      "response_time": 0.0003287792205810547,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "Check the temperature outside",
      "routing_decision": "tool_direct",
      "primary_tool": "get_home_weather",
      "search_provider": null,
      "confidence": 0.8,
      "reasoning": "The query is asking for a temperature reading outside, and the most relevant tool for this is get_home_weather, assuming the user wants their personal weather station data. If the user's location is not known or they don't have a PWS, this might fail.",
      "response_time": 0.5916681289672852,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "Check the temperature outside",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "serper",
      "confidence": 0.8,
      "reasoning": "The user is asking for real-time information about the current temperature outside, which requires a web search.",
      "response_time": 0.40559983253479004,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "Check the temperature outside",
      "routing_decision": "tool_direct",
      "primary_tool": "get_weather_forecast",
      "search_provider": null,
      "confidence": 0.5,
      "reasoning": "Medium tool confidence, no search needed: Patterns: 0, Keywords: 1. Keyword: temperature",
      "response_time": 0.0002009868621826172,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "Weather forecast for next week",
      "routing_decision": "tool_direct",
      "primary_tool": "get_weather_forecast",
      "search_provider": null,
      "confidence": 0.8,
      "reasoning": "The query is a weather forecast request. However, it lacks a specific location, which is required for the get_weather_forecast tool. The tool will likely prompt for a location.",
      "response_time": 0.47011804580688477,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "Weather forecast for next week",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "serper",
      "confidence": 0.8,
      "reasoning": "The user is asking for future information (weather forecast for next week), which requires a search for current and predictive data.",
      "response_time": 0.4486830234527588,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "Weather forecast for next week",
      "routing_decision": "tool_direct",
      "primary_tool": "get_weather_forecast",
      "search_provider": null,
      "confidence": 1.0,
      "reasoning": "High tool confidence (1.00): Patterns: 1, Keywords: 2. Pattern match: \\bforecast\\b.*\\bfor\\b; Keyword: weather; Keyword: forecast",
      "response_time": 0.00027680397033691406,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "What happened at the latest Apple event?",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "brave",
      "confidence": 0.9,
      "reasoning": "The query asks about a recent event, which requires up-to-date information that can be found through a web search.",
      "response_time": 0.5164690017700195,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "What happened at the latest Apple event?",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "brave",
      "confidence": 0.8,
      "reasoning": "The user is asking about a recent event, which requires a search for current information.",
      "response_time": 0.3341388702392578,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "What happened at the latest Apple event?",
      "routing_decision": "tool_with_search",
      "primary_tool": "brave_search",
      "search_provider": "serper",
      "confidence": 0.7,
      "reasoning": "Medium tool confidence + search needed: Patterns: 1, Keywords: 1. Pattern match: \\bwhat.*happened\\b; Keyword: latest",
      "response_time": 0.00026297569274902344,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "What's Google's stock price today?",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "brave",
      "confidence": 0.9,
      "reasoning": "Stock prices are current events and require up-to-date information, best obtained through a web search.",
      "response_time": 0.5515062808990479,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "What's Google's stock price today?",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "serper",
      "confidence": 0.8,
      "reasoning": "The user is asking for real-time information (stock price) that changes frequently and is not available in my internal knowledge base.",
      "response_time": 0.38026905059814453,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "What's Google's stock price today?",
      "routing_decision": "tool_with_search",
      "primary_tool": "brave_search",
      "search_provider": "serper",
      "confidence": 0.7,
      "reasoning": "Medium tool confidence + search needed: Patterns: 1, Keywords: 1. Pattern match: \\bstock price\\b; Keyword: stock",
      "response_time": 0.0003147125244140625,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "Store hours for Walmart near me",
      "routing_decision": "tool_direct",
      "primary_tool": "serper_search",
      "search_provider": "serper",
      "confidence": 0.9,
      "reasoning": "The query is asking for specific business information (store hours) for a local business ('Walmart near me'), which Serper is well-suited to handle.",
      "response_time": 0.5640919208526611,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "Store hours for Walmart near me",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "serper",
      "confidence": 0.8,
      "reasoning": "This query requires specific, real-time factual data (store hours) that is location-dependent and not in my internal knowledge base.",
      "response_time": 0.6142032146453857,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "Store hours for Walmart near me",
      "routing_decision": "tool_direct",
      "primary_tool": "serper_search",
      "search_provider": null,
      "confidence": 0.8999999999999999,
      "reasoning": "High tool confidence (0.90): Patterns: 1, Keywords: 2. Pattern match: \\bstore hours\\b; Keyword: hours; Keyword: store",
      "response_time": 0.00020313262939453125,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "Latest news about AI developments",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "brave",
      "confidence": 0.9,
      "reasoning": "The query asks for the 'latest news' about AI developments, which requires accessing current information from the web. Brave Search is suitable for general news and diverse results.",
      "response_time": 0.4828939437866211,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "Latest news about AI developments",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "brave",
      "confidence": 0.8,
      "reasoning": "The user is asking for the latest news, which implies recent events and developments in AI that are not part of my static knowledge base.",
      "response_time": 0.6479761600494385,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "Latest news about AI developments",
      "routing_decision": "tool_direct",
      "primary_tool": "brave_search",
      "search_provider": null,
      "confidence": 0.8999999999999999,
      "reasoning": "High tool confidence (0.90): Patterns: 1, Keywords: 2. Pattern match: \\b(latest|recent|current|new)\\b.*\\b(news|events)\\b; Keyword: latest; Keyword: news",
      "response_time": 0.0002567768096923828,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "What time does the Apple Store close?",
      "routing_decision": "tool_direct",
      "primary_tool": "serper_search",
      "search_provider": "serper",
      "confidence": 0.85,
      "reasoning": "The query asks for specific business hours, which Serper is well-suited to find, especially for local results.",
      "response_time": 0.47822999954223633,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "What time does the Apple Store close?",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "serper",
      "confidence": 0.8,
      "reasoning": "This query requires specific, time-sensitive factual data (store hours) that is location-dependent and not in my internal knowledge base.",
      "response_time": 0.5411331653594971,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "What time does the Apple Store close?",
      "routing_decision": "tool_direct",
      "primary_tool": "serper_search",
      "search_provider": null,
      "confidence": 0.4,
      "reasoning": "Medium tool confidence, no search needed: Patterns: 0, Keywords: 1. Keyword: store",
      "response_time": 0.0003159046173095703,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "What is the capital of France?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.95,
      "reasoning": "This is a straightforward factual question that can be answered using the AI's internal knowledge base.",
      "response_time": 0.4602539539337158,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "What is the capital of France?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.7,
      "reasoning": "The user is asking for a well-established historical fact that is part of general knowledge and does not require a web search.",
      "response_time": 0.4719109535217285,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "What is the capital of France?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.6,
      "reasoning": "No suitable tools found, using model knowledge",
      "response_time": 0.0002999305725097656,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "Explain photosynthesis",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.95,
      "reasoning": "The query is a request for an explanation of a scientific concept, which can be handled by the AI model's internal knowledge.",
      "response_time": 0.41364407539367676,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "Explain photosynthesis",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.7,
      "reasoning": "This is a request for general and established scientific knowledge, which does not require a web search.",
      "response_time": 0.39200472831726074,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "Explain photosynthesis",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.6,
      "reasoning": "No suitable tools found, using model knowledge",
      "response_time": 0.00026226043701171875,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "Write a haiku about cats",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.95,
      "reasoning": "The user is asking for a creative writing task (haiku), which is well within the capabilities of the AI model's internal knowledge and generation abilities.",
      "response_time": 0.5170450210571289,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "Write a haiku about cats",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.7,
      "reasoning": "The user is asking for creative text generation, which does not require an external web search.",
      "response_time": 0.5069730281829834,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "Write a haiku about cats",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.6,
      "reasoning": "No suitable tools found, using model knowledge",
      "response_time": 0.0003368854522705078,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "How do you calculate compound interest?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.95,
      "reasoning": "The user is asking for an explanation of a concept (compound interest calculation), which is well within the capabilities of the AI model's internal knowledge.",
      "response_time": 0.4830288887023926,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "How do you calculate compound interest?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.7,
      "reasoning": "The calculation of compound interest is a well-established mathematical concept that does not require a web search.",
      "response_time": 0.4501631259918213,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "How do you calculate compound interest?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.6,
      "reasoning": "No suitable tools found, using model knowledge",
      "response_time": 0.00030994415283203125,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "What are the principles of good design?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.9,
      "reasoning": "The query asks for abstract principles and concepts related to design, which is well within the capabilities of the AI model's internal knowledge base. No external tools or real-time data are required.",
      "response_time": 0.6070048809051514,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "What are the principles of good design?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.7,
      "reasoning": "The user is asking about established principles of design, which is general knowledge that does not require a web search.",
      "response_time": 0.4558601379394531,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "What are the principles of good design?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.6,
      "reasoning": "No suitable tools found, using model knowledge",
      "response_time": 0.0003268718719482422,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "How hot is it on Mars?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.8,
      "reasoning": "The query asks about conditions on a planet, which is a factual question that can be answered by the model's knowledge base. While weather tools exist, they are designed for Earth locations. A search could be used, but the model's knowledge is likely sufficient and more direct for this type of astronomical fact.",
      "response_time": 0.5812280178070068,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "How hot is it on Mars?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.7,
      "reasoning": "The user is asking a question about a general scientific fact that is unlikely to have changed significantly and can be answered from established knowledge.",
      "response_time": 0.46309518814086914,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "How hot is it on Mars?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.6,
      "reasoning": "No suitable tools found, using model knowledge",
      "response_time": 0.00010395050048828125,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "What's the weather like in Middle Earth?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.85,
      "reasoning": "Fictional location - should explain it's fictional rather than attempt weather lookup",
      "response_time": 0.4497840404510498,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "What's the weather like in Middle Earth?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.7,
      "reasoning": "The query is about a fictional location and does not require a web search for factual, current, or real-time information. It can be answered creatively or with general knowledge about the fictional world.",
      "response_time": 0.49810194969177246,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "What's the weather like in Middle Earth?",
      "routing_decision": "tool_direct",
      "primary_tool": "get_weather_forecast",
      "search_provider": null,
      "confidence": 1.0,
      "reasoning": "High tool confidence (1.00): Patterns: 1, Keywords: 1. Pattern match: \\bweather\\b.*\\bin\\b; Keyword: weather; Location indicator: in",
      "response_time": 0.0003447532653808594,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "Search for the weather in Tokyo",
      "routing_decision": "tool_direct",
      "primary_tool": "get_weather_forecast",
      "search_provider": null,
      "confidence": 0.95,
      "reasoning": "The query is a direct request for weather information in a specific location (Tokyo), which is a perfect match for the get_weather_forecast tool.",
      "response_time": 0.5399951934814453,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "Search for the weather in Tokyo",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "serper",
      "confidence": 0.8,
      "reasoning": "The user is asking for real-time information (weather) which changes frequently and requires an external search.",
      "response_time": 0.40715718269348145,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "Search for the weather in Tokyo",
      "routing_decision": "tool_direct",
      "primary_tool": "get_weather_forecast",
      "search_provider": null,
      "confidence": 1.0,
      "reasoning": "High tool confidence (1.00): Patterns: 1, Keywords: 1. Pattern match: \\bweather\\b.*\\bin\\b; Keyword: weather; Location indicator: in",
      "response_time": 0.0001049041748046875,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "Tell me about the history of weather forecasting",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.9,
      "reasoning": "The query asks about the history of a topic, which is a knowledge-based question suitable for the AI model's internal knowledge.",
      "response_time": 1.2047159671783447,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "Tell me about the history of weather forecasting",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.7,
      "reasoning": "The user is asking about the history of weather forecasting, which is established knowledge and does not require a web search.",
      "response_time": 0.4080841541290283,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "Tell me about the history of weather forecasting",
      "routing_decision": "tool_direct",
      "primary_tool": "get_weather_forecast",
      "search_provider": null,
      "confidence": 0.7,
      "reasoning": "Medium tool confidence, no search needed: Patterns: 0, Keywords: 2. Keyword: weather; Keyword: forecast",
      "response_time": 0.00041604042053222656,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "What's happening?",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "brave",
      "confidence": 0.6,
      "reasoning": "The query is very vague and could refer to anything. A general web search is the best approach to understand the user's intent.",
      "response_time": 0.5241658687591553,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "What's happening?",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "brave",
      "confidence": 0.8,
      "reasoning": "The query 'What's happening?' is too broad and likely refers to current events or general news, which requires a web search to provide a meaningful and up-to-date response.",
      "response_time": 0.48335909843444824,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "What's happening?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.6,
      "reasoning": "No suitable tools found, using model knowledge",
      "response_time": 0.00025010108947753906,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "How are things?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.55,
      "reasoning": "This is a very general conversational query. The AI model can provide a conversational response. If the user intended to ask about current events or weather, they would need to be more specific.",
      "response_time": 0.6301813125610352,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "How are things?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.7,
      "reasoning": "This is a general conversational prompt and does not require external information.",
      "response_time": 0.3632328510284424,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "How are things?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.6,
      "reasoning": "No suitable tools found, using model knowledge",
      "response_time": 8.20159912109375e-05,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "Check the latest",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "brave",
      "confidence": 0.55,
      "reasoning": "The query is too vague to determine a specific tool or intent. A general web search is the safest approach to understand what 'latest' refers to.",
      "response_time": 0.5029392242431641,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "Check the latest",
      "routing_decision": "search_only",
      "primary_tool": null,
      "search_provider": "brave",
      "confidence": 0.8,
      "reasoning": "The prompt is incomplete and does not specify what information needs to be checked. To provide a meaningful response, a search is required to understand the user's intent.",
      "response_time": 0.4643712043762207,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "Check the latest",
      "routing_decision": "tool_with_search",
      "primary_tool": "brave_search",
      "search_provider": "serper",
      "confidence": 0.4,
      "reasoning": "Medium tool confidence + search needed: Patterns: 0, Keywords: 1. Keyword: latest",
      "response_time": 0.00023603439331054688,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "What do you think?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.55,
      "reasoning": "The query is too vague and does not provide enough context to determine a specific tool or search. The AI model's general conversational abilities are the most appropriate first step.",
      "response_time": 0.6166841983795166,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "What do you think?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.7,
      "reasoning": "This is a general conversational prompt asking for an opinion, which does not require a web search.",
      "response_time": 0.3928542137145996,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "What do you think?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.6,
      "reasoning": "No suitable tools found, using model knowledge",
      "response_time": 0.00022602081298828125,
      "error": null
    },
    {
      "system": "comprehensive_llm",
      "query": "Can you help me?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.5,
      "reasoning": "The query is too vague to determine a specific tool or search. The model should respond conversationally and ask for clarification.",
      "response_time": 0.44762587547302246,
      "error": null
    },
    {
      "system": "narrow_llm",
      "query": "Can you help me?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.7,
      "reasoning": "The user is asking for general assistance, which can be handled by the model without an external search.",
      "response_time": 0.7937819957733154,
      "error": null
    },
    {
      "system": "rule_based",
      "query": "Can you help me?",
      "routing_decision": "model_knowledge",
      "primary_tool": null,
      "search_provider": null,
      "confidence": 0.6,
      "reasoning": "No suitable tools found, using model knowledge",
      "response_time": 0.0002799034118652344,
      "error": null
    }
  ],
  "analysis": {
    "comprehensive_llm": {
      "accuracy": 84.0,
      "avg_response_time": 0.5466633510589599,
      "error_rate": 0.0,
      "total_tests": 25
    },
    "narrow_llm": {
      "accuracy": 76.0,
      "avg_response_time": 0.46983167648315427,
      "error_rate": 0.0,
      "total_tests": 25
    },
    "rule_based": {
      "accuracy": 56.00000000000001,
      "avg_response_time": 0.00041301727294921873,
      "error_rate": 0.0,
      "total_tests": 25
    }
  }
}